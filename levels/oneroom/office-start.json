{
    "player_start": {
        "pos": { "x": 3, "z": 6 },
        "facing": 0
    },
    "level": [
        [null,null,{"type":"wall","mats":["office-wall","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-window","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-window","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-counter-supplies","drop_ceiling"],"desc":null,"extra":{"zways":true}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":-1.2}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "z"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":-1.2}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":-1.2}}}},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-counter-printer","drop_ceiling"],"desc":null,"extra":{"zways":true}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling_lights"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk","drop_ceiling"],"desc":null,"extra":{"rot":0.6}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "z"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk-yours","drop_ceiling"],"desc":null,"extra":{"rot":-0.6, "trigger":"phone-call"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling_lights"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk","drop_ceiling"],"desc":null,"extra":{"rot":0.6}}}},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-counter-coffee","drop_ceiling"],"desc":null,"extra":{"zways":true, "trigger":"no-coffee"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "x"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"double_cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "z"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "x"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "x"}}}},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-counter-sink","drop_ceiling"],"desc":null,"extra":{"zways":true}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling_lights"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk","drop_ceiling"],"desc":null,"extra":{"rot":-0.6}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "z"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk","drop_ceiling"],"desc":null,"extra":{"rot":0.6}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling_lights"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-desk","drop_ceiling"],"desc":null,"extra":{"rot":-0.6}}}},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"fobj","mats":["office-fridge","drop_ceiling"],"desc":null,"extra":{"zways":true}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":1.2}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"cube_wall","mats":["cube-wall","cube-wall-cap"], "extra": { "rot": "z"}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":1.2}}}},
            {"type":"espace","mats":["office-floor","drop_ceiling"],"desc":"editor created this", "extra": {
                "event": "opening-blurb", "once": true, "key": "start" }
            },
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["office-chair","drop_ceiling"],"desc":null,"extra":{"offset-z":1.2}}}},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,{"type":"wall","mats":["office-wall",null],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this","extra":{"object":{"type":"sprite","mats":["plant","drop_ceiling"],"desc":null,"extra":{"solid":true}}}},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"enclosed","mats":["office-floor","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall",null],"desc":"editor created this"}],
        [null,null,{"type":"wall","mats":["office-wall-blue","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue-door","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue-clock-9","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue","drop_ceiling"],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue",null],"desc":"editor created this"},
            {"type":"wall","mats":["office-wall-blue",null],"desc":"editor created this"}]
    ],
    "persisted": {
        "got-phone": false,
        "start": true
    },
    "dialog": {
        "start": [
            { "msg": "The last Friday in December." },
            { "msg": "Everyone else in this office is on vacation.." },
            { "msg": "..." },
            { "speaker": "phone", "msg": "*ring ring*" },
            { "msg": "..and I bet that's my phone ringing" }
        ],
        "phone-call": [
            { "msg": "hello?" },
            { "speaker": "phone", "msg": "Hello, $name.  Don't forget that I need that report before the holiday." },
            { "msg": "yes, of course.  I'll have it done by the end of the day." },
            { "speaker": "phone", "msg": "Good, good.  Don't think that just because you're the only person in the office you can slack off all day." },
            { "msg": "Of course not sir." },
            { "speaker": "phone", "msg": "Great, thanks!" },
            { "speaker": "phone", "emote": "loud", "msg": "*click*" },
            { "msg": "*sigh*" },
            { "msg": "..I'm gonna need some coffee for this." }
        ],
        "no-coffee": [
            { "msg": "Ew, the coffee pot's still full. This must be from yesterday.." },
            { "msg": "Don't worry, I'll take care of it." },
            { "msg": "..." },
            { "msg": "Now, to make more..." },
            { "msg": "..." },
            { "msg": "Oh great, we're out of coffee." },
            { "type": "event", "target": "transition_level", "detail": { "to": "/levels/oneroom/daydream-docks",
                "player_pos": { "x": 8, "z": 14 }, "player_facing": 1 } }
        ]
    },
    "events": {
        "level-start": {
            "type": "dialog",
            "dialog": "start",
            "once": true
        },
        "phone-call": {
            "type": "dialog",
            "dialog": "phone-call",
            "once": true
        },
        "no-coffee": {
            "type": "dialog",
            "dialog": "no-coffee",
            "once": true,
            "requirements": [ "phone-call" ]
        }
    }
}
